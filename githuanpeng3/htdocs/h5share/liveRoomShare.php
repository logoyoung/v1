<!DOCTYPE html>
<html lang="en" data-dpr="1" max-width="0" style="font-size: 20px;"><head>
    <meta charset="UTF-8">
    <meta name="hotcss" content="initial-dpr=1;max-width=0">
    <title>Hello!女神49天——熊猫直播现场直播</title>
    <meta name="keywords" content="游戏直播,手机游戏直播,电子竞技直播,热门游戏直播,熊猫直播,pandatv,熊猫直播,lol直播,炉石传说直播,dota2直播">
    <meta name="description" content="熊猫直播提供高清、流畅的视频、活动、赛事直播服务，不仅包含英雄联盟lol直播，炉石传说直播，dota2直播等游戏直播，更有大型活动直播、演唱会直播、美女直播，内容丰富，精彩直播尽在最娱乐的熊猫直播。">
    <link rel="stylesheet" href="https://s.ssl.pdim.gs/static/1036cf2a455bae20.css">
    <script src="//hm.baidu.com/hm.js?204071a8b1d0b2a04c782c44b88eb996"></script><script>
        ! function(t, e) {
            "use strict";
            var i = {};
            ! function() {
                var n = e.querySelector('meta[name="viewport"]'),
                        a = e.querySelector('meta[name="hotcss"]'),
                        r = t.devicePixelRatio || 1,
                        d = 540,
                        m = 0;
                if (r = r >= 3 ? 3 : r >= 2 ? 2 : 1, a) {
                    var s = a.getAttribute("content");
                    if (s) {
                        var c = s.match(/initial\-dpr=([\d\.]+)/);
                        c && (r = parseFloat(c[1]));
                        var o = s.match(/max\-width=([\d\.]+)/);
                        o && (d = parseFloat(o[1]));
                        var u = s.match(/design\-width=([\d\.]+)/);
                        u && (m = parseFloat(u[1]))
                    }
                }
                e.documentElement.setAttribute("data-dpr", r), i.dpr = r, e.documentElement.setAttribute("max-width", d), i.maxWidth = d, m && (e.documentElement.setAttribute("design-width", m), i.designWidth = m);
                var l = 1 / r,
                        h = "width=device-width, initial-scale=" + l + ", minimum-scale=" + l + ", maximum-scale=" + l + ", user-scalable=no";
                n ? n.setAttribute("content", h) : (n = e.createElement("meta"), n.setAttribute("name", "viewport"), n.setAttribute("content", h), e.head.appendChild(n))
            }(), i.px2rem = function(t, e) {
                return e || (e = parseInt(i.designWidth, 10)), 320 * parseInt(t, 10) / e / 20
            }, i.rem2px = function(t, e) {
                return e || (e = parseInt(i.designWidth, 10)), 20 * t * e / 320
            }, i.mresize = function() {
                var n = e.documentElement.getBoundingClientRect().width || t.innerWidth;
                return i.maxWidth && n / i.dpr > i.maxWidth && (n = i.maxWidth * i.dpr), n ? (e.documentElement.style.fontSize = 20 * n / 320 + "px", void(i.callback && i.callback())) : !1
            }, i.mresize(), t.addEventListener("resize", function() {
                clearTimeout(i.tid), i.tid = setTimeout(i.mresize, 33)
            }, !1), t.addEventListener("load", i.mresize, !1), setTimeout(function() {
                i.mresize()
            }, 333), t.hotcss = i
        }(window, document);

    </script><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
<div style="position:absolute;top:-10000px">
    <h1 id="page-title">熊猫直播_最娱乐的直播平台_PandaTV</h1>
    <p id="page-description">#熊猫直播#  游戏直播,手机游戏直播,电子竞技直播,热门游戏直播,熊猫直播,pandatv,熊猫直播,lol直播,炉石传说直播,dota2直播~</p>
    <img src="https://i.ssl.pdim.gs/699e7e9daee10d89e178102355e627fc.png">
</div>
<div id="masklayer">
</div>
<div id="selectlayer">
    <div id="btnwrap">
        <div class="cancel" onclick="hidenetstatuslayer()">取消</div>
        <div class="continue" onclick="startplayvideo()">继续</div>
    </div>
</div>
<div id="header">
    <a href="http://m.panda.tv" class="logo">
        <img src="https://i.ssl.pdim.gs/1429d5f99b73650200094472faad0a93.png">
    </a>
    <div class="func">
        <a class="share" href="#" style="display:none;"></a>
    </div>
</div>
<div id="video" style="position: relative; overflow: hidden; background: rgb(0, 0, 0);"><video webkit-playsinline="" id="video_js_palyer" preload="preload" controls="" height="100%" width="100%" src="http://pl-hls3.live.panda.tv/live_panda/d4e0a83a7e0b0c6e4c5d03774169fa3e_small.m3u8"></video><div id="video_poster_cover" class="video_poster_cover" style="display: block;"><img src="http://i9.pdim.gs/45/5196ab3cc7719f9ceb23c2ca50557158/w338/h190.jpg" height="100%" width="100%"><div class="loading" style="display: none;"><span><img src="https://i.ssl.pdim.gs/939aa906b7ea3b708d8ed1ad29051e99.png"><i>加载中……</i></span></div><div class="canplay" style="display: block;"></div></div></div>
<div id="owner">
    <div class="avatar"><img id="avatarimg" src="http://i7.pdim.gs/0257040380bd7d294a8017532c07e39b.jpg"></div>
    <div class="info">
        <h2 id="hostname">女神主直播间</h2>
        <p id="roomname">Hello!女神49天</p>
    </div>
    <div class="count" id="pnumber">21490</div>
</div>
<div id="func">
    <div class="btn room_download bamboo ico">领竹子</div>
    <div class="btn room_download chat ico">发言</div>
    <div class="btn room_download gift ico">送礼物</div>
    <div class="btn app" id="open_into_app">App观看</div>
</div>
<div id="recommend" style="">
    <p class="recommendtitle">精彩推荐</p>
    <div class="img_recommend_Wrap clearfix" id="recommendlist"><div class="img_recommend fl"><a href="http://m.panda.tv/room.html?roomid=430909"><img src="http://i5.pdim.gs/45/cc0f9eaf36a9e9096dfd254b77b6adbb/w338/h190.jpg" alt="pandaTV"><p class="img_mask"></p><p class="img_title">Pandakill第一集重播</p><p class="bot_title clearfix"><span class="main_title fl">PandaKill熊猫杀</span><span class="people_number fr">11.5万</span></p></a></div><div class="img_recommend fl"><a href="http://m.panda.tv/room.html?roomid=66666"><img src="http://i5.pdim.gs/45/c2019a1cfb537a822f0af92599c53cf0/w338/h190.jpg" alt="pandaTV"><p class="img_mask"></p><p class="img_title">我们是至尊车队!才不是废铜烂铁!</p><p class="bot_title clearfix"><span class="main_title fl">刘杀鸡</span><span class="people_number fr">35.6万</span></p></a></div><div class="img_recommend fl"><a href="http://m.panda.tv/room.html?roomid=4000"><img src="http://i7.pdim.gs/45/180354313ef85ec51602b5395527b681/w338/h190.jpg" alt="pandaTV"><p class="img_mask"></p><p class="img_title">阿瑾带逛京东男装节</p><p class="bot_title clearfix"><span class="main_title fl">熊猫娱乐直播频道</span><span class="people_number fr">24.9万</span></p></a></div><div class="img_recommend fl"><a href="http://m.panda.tv/room.html?roomid=10066"><img src="http://i7.pdim.gs/45/8335dab3ff0b019745d9c814ccabdbf9/w338/h190.jpg" alt="pandaTV"><p class="img_mask"></p><p class="img_title">16岁国服倒数第一亚索教学</p><p class="bot_title clearfix"><span class="main_title fl">银河系倒数第一亚索2D</span><span class="people_number fr">14.6万</span></p></a></div></div>
</div>



<script src="https://s.ssl.pdim.gs/static/06ce777e6c20d314.js"></script>
<!--<script src="http://m.panda.tv/activity/downversion.js"></script>-->
<script src="https://s.ssl.pdim.gs/static/972bf5b4e1141176.js"></script>
<script>
    var doc = window.document;
    var $body = doc.body;
    var doc = window.document;
    var $body = doc.body;
</script>
<script>

    function h5Video(conf){
        var defualt = {
            el:"",
            autoplay:"autoplay",
            controls:"controls",
            height:"100%",
            loop:false,//  如果出现该属性，则当媒介文件完成播放后再次开始播放。
            preload:"preload",
            src:"",
            width:"100%"
        };
        this.conf = $.extend(defualt,conf);
        if(!this.conf.el){
            console.log("no el for video");
            return false;
        }
        this.videoDOM = this.createDom();

        $(this.conf.el).css({'position':'relative','background':'#000','overflow':'hidden'});

        return this;
    }

    h5Video.prototype.createDom = function() {
        var videoDOM = document.createElement('video');
        this.id = "video_js_palyer";
        videoDOM.setAttribute("webkit-playsinline",'');
        videoDOM.id = this.id;
        videoDOM.type = "application/vnd.apple.mpegurl";

        if(this.conf.preload){
            videoDOM.preload = this.conf.preload;
        }
        if(this.conf.autoplay){
            videoDOM.setAttribute("autoplay","autoplay");
        }
        if(this.conf.controls){
            videoDOM.controls = this.conf.controls;
        }
        if(this.conf.height){
            videoDOM.setAttribute("height",this.conf.height);
        }
        if(this.conf.width){
            videoDOM.setAttribute("width",this.conf.width);
        }
        if(this.conf.loop){
            videoDOM.loop = this.conf.loop;
        }

        return videoDOM;
    };

    h5Video.prototype.reset = function(holder) {
        var undefinedHolder;
        if(holder.poster){
            var _img = document.createElement("img");
            _img.src = holder.poster;
            _img.setAttribute("height","100%");
            _img.setAttribute("width","100%");
            undefinedHolder = _img;
            var _a = document.createElement("a");
            if(holder.click){
                _a.addEventListener('click',function(){
                    holder.click();
                });
                _a.appendChild(_img);
                undefinedHolder = _a;
            }else if(holder.href){

                _a.href = holder.href;
                _a.setAttribute("target",holder.target);
                _a.appendChild(_img);
                undefinedHolder = _a;
            }
            $(this.conf.el).append(undefinedHolder);
        };

    };

    h5Video.prototype.play = function() {
        try{
            this.videoDOM.play();
        }catch(e){
            this.errorHandlebar(e)
        }
    };
    h5Video.prototype.durationchange = function(e) {
        if(!this.changeDOM){
            this.changeDOM = document.createElement("div");
            this.changeDOM.className = "durationchange";
            this.changeDOM.innerHTML = "装载中……";
        }
        $(this.conf.el).append(this.changeDOM);
        this.changeDOM.style.display = 'block';
    };
    h5Video.prototype.errorHandlebar = function(e) {
        weekAlert("视频源不被支持")
    };

    h5Video.prototype.init = function(conf) {
        var _this = this;
        $(this.conf.el).html("");
        if(!conf.src){
            this.reset(conf.undefinedHolder);
            return false;
        }
        //this.videoDOM.src = conf.src;
        this.videoDOM.src = 'http://223.203.212.30/Y-10550-1474347744_20160920130246_3387_hls/playlist.m3u8';
        $(this.conf.el).append(this.videoDOM);
        var videoTag = this.videoDOM = document.querySelectorAll("#"+this.id)[0];
        var posterTag = this.posterDOM = document.createElement("div");
        posterTag.id = 'video_poster_cover';
        posterTag.className = "video_poster_cover";
        var _img = document.createElement("img");
        _img.src = conf.poster;
        _img.setAttribute("height","100%");
        _img.setAttribute("width","100%");
        var _loading = document.createElement("div");
        _loadingSpan = document.createElement("span");
        _loadingI = document.createElement("i");
        _loadingI.innerHTML = "加载中……";
        _loadingImg = document.createElement("img");
        _loadingImg.src = 'https://i.ssl.pdim.gs/939aa906b7ea3b708d8ed1ad29051e99.png';
        _loadingSpan.appendChild(_loadingImg);
        _loadingSpan.appendChild(_loadingI);
        _loading.appendChild(_loadingSpan);

        _loading.className = "loading";
        var _canplay = document.createElement("div");
        _canplay.className = "canplay";
        //_canplay.innerHTML = "play";

        posterTag.appendChild(_img);
        posterTag.appendChild(_loading);
        posterTag.appendChild(_canplay);
        $(this.conf.el).append(posterTag);

        var eventTester = function(e,fn){
            videoTag.addEventListener(e,function(e){
                fn(e);
            },false);
        };

        _canplay.addEventListener("click",function(){
            _this.play();
        });





        eventTester("loadstart",function(){
            posterTag.style.display = 'block';
            _loading.style.display = 'none';
            _canplay.style.display = 'block';
            if(_this.conf.autoplay){
                _this.play();
            }
        });

        eventTester("stalled",function(){
            console.log("stalled");
        });
        eventTester("stalled",function(){
            console.log("stalled");
        }); //网速失速
        eventTester("play",function(){
            posterTag.style.display = 'none';
        });
        eventTester("canplay",function(){
            posterTag.style.display = 'block';
            _loading.style.display = 'none';
            _canplay.style.display = 'block';
            if(_this.conf.autoplay){
                _this.play();
            }

        }); //可以播放，但中途可能因为加载而暂停


        eventTester("waiting",function(){
            posterTag.style.display = 'block';
            _loading.style.display = 'block';
            _canplay.style.display = 'none';
        });
        eventTester("playing",function(){
            posterTag.style.display = 'none';
        });
        // eventTester("ended",function(){
        //     console.log("ended");
        // });

        // eventTester("timeupdate",function(){
        //     alert(JSON.stringify(arguments));
        // });


        // eventTester("durationchange",function(){
        //     //document.write(JSON.stringify(arguments));
        // });

    };

</script>
<script type="text/javascript">
    var baseroomid = 0;

    (function($) {
        $.extend({
            urlGet: function() {
                var aQuery = window.location.href.split("?"); //取得Get参数
                var aGET = new Array();
                if (aQuery.length > 1) {
                    var aBuf = aQuery[1].split("&");
                    for (var i = 0, iLoop = aBuf.length; i < iLoop; i++) {
                        var aTmp = aBuf[i].split("="); //分离key与Value
                        aGET[aTmp[0]] = aTmp[1];
                    }
                }
                return aGET;
            },
        });
    })(jQuery);

    function getConf() {
        if (baseroomid == null || baseroomid == "") {
            window.location.href = "http://m.panda.tv/index.html";
        } else {
            $.ajax({
                url: "http://room.api.m.panda.tv/index.php?method=room.shareapi&roomid=" + baseroomid,
                dataType: "jsonp",
                success: function(ret) {

                    var config = {
                        src:'',
                        poster:'',
                        undefinedHolder:{
                            poster:''
                        }
                    };
                    if (ret["errno"] == 0) {
                        setRoomInfo(ret["data"]);
                        //note 判断直播间是否开播
                        if (ret["data"]["videoinfo"]["address"] == "") {
                            $("#noplaymsgdiv").show();
                        } else {
                            //note 判断用户网络情况

                            var video = new h5Video({
                                el:"#video",
                                autoplay:false,
                                controls:"controls"
                            });

                            var nettype = checknettype();
                            if (nettype != "" && nettype != 2 && nettype != "wifi") {
                                shownetstatuslayer();

                                //setVideo(ret["data"]["videoinfo"]["address"], false);
                                config.src = ret["data"]["videoinfo"]["address"]
                            } else {
                                //setVideo(ret["data"]["videoinfo"]["address"], true);
                                config.src = ret["data"]["videoinfo"]["address"]
                            }
                            config.poster = ret["data"]["roominfo"]["pictures"]["img"];
                            video.init(config);
                        }



                    } else {
                        window.location.href = "http://m.panda.tv/index.html";
                    }
                },
                error: function(ret) {
                    window.location.href = "http://m.panda.tv/index.html";
                }
            });
        }
    }

    function checknettype() {
        if (typeof navigator != "undefined" && typeof navigator.connection != "undefined" && typeof navigator.connection.type != "undefined") {
            return navigator.connection.type;
        } else {
            return "";
        }
    }

    function setRoomInfo($data) {
        $("#avatarimg").attr("src", $data["hostinfo"]["avatar"]);
        $("#hostname").text($data["hostinfo"]["name"]);
        $("#roomname").text($data["roominfo"]["name"]);
        $("#roomname").text($data["roominfo"]["name"]);
        $("#pnumber").text($data["roominfo"]["person_num"]);
        document.title = $data["roominfo"]["name"] + "——熊猫直播现场直播";
        $("#roomimg").attr("src", $data.roominfo.pictures.img);
    }

    function setVideo(videourl, autoplay) {
        if (videourl != '' && videourl != null) {
            if (autoplay) {
                var sHtml = '<video id="videoplayer" poster="" width="100%" height="100%" preload="preload" autoplay="autoplay" controls="controls" webkit-playsinline><source src="' + videourl + '" /></video>';
            } else {
                var sHtml = '<video id="videoplayer" poster="" width="100%" height="100%" controls="controls" webkit-playsinline><source src="' + videourl + '" /></video>';
            }

            $("#video").append(sHtml);
            $("#videoplayer").on('error', function(e) {
                $("#noplaymsgdiv").show();
                $("#videoplayer").remove();
            });
            if (autoplay) {
                dealplay();
            }
        }
    }

    function getRecommend() {
        $.ajax({
//            url: "http://room.api.m.panda.tv/index.php?method=room.recommend",
            url: "http://api.m.panda.tv/index.php?method=room.alllist&pageno=1&pagenum=4&status=2",
            dataType: "jsonp",
            success: function(ret) {
                if (ret["errno"] == 0 && ret.data.items.length == 4) {
                    var htmlstr = "";
                    for (var i = 0; i < 4; i++) {
                        var item = ret.data.items[i];
                        var num = "";
                        if (item.person_num > 10000) {
                            num = parseFloat(item.person_num / 10000).toFixed(1) + "万";
                        } else {
                            num = item.person_num;
                        }
                        var nickname = "";
                        if (typeof item.userinfo != "undefined") {
                            nickname = item.userinfo.nickName;
                        }
                        htmlstr += '<div class="img_recommend fl"><a href="http://m.panda.tv/room.html?roomid=' + item.id + '"><img src="' + item.pictures.img + '" alt="pandaTV"><p class="img_mask"></p><p class="img_title">' + item.name + '</p><p class="bot_title clearfix"><span class="main_title fl">' + nickname + '</span><span class="people_number fr">' + num + '</span></p></a></div>';
                    }
                    $("#recommendlist").html(htmlstr);
                    $("#recommend").show();
                }
            }
        });
    }

    function shownetstatuslayer() {
        $("#masklayer").show();
        $("#selectlayer").show();
    }

    function hidenetstatuslayer() {
        $("#masklayer").hide();
        $("#selectlayer").hide();
    }

    function dealplay() {
        var video = $("#videoplayer");
        video = video[0];
        video.play();
    }

    function startplayvideo() {
        hidenetstatuslayer();
        dealplay();
    }

    function downapp() {
        var ua = navigator.userAgent;
        if (/iphone|ipad|ipod/i.test(ua)) {
            if(/MicroMessenger/i.test(ua)){
                location.href = "http://m.panda.tv/pages/download.html";
                return false;
            }else{
                location.href = "http://m.panda.tv/pages/download.html";
                return false;
            }
        } else {
            location.href = "http://m.panda.tv/pages/download.html";
            return false;
        }
    }

    function openapp() {
        var ua = navigator.userAgent;
        if (/iphone|ipad|ipod/i.test(ua)) {
            return false;
        }
        var node = document.createElement('iframe');
        node.style.display = 'none';
        var body = document.body;
        node.src = "pandatv://openroom/" + baseroomid;
        body.appendChild(node);
    }
    $(function() {
        var GET = $.urlGet();
        baseroomid = GET["roomid"];
        if (baseroomid == 88888) {
            location.href = "http://m.panda.tv/activity/pandagirls.html";
            return true;
        }else if(baseroomid == 413492 || baseroomid == 394925){
            location.href = "http://m.panda.tv/activity/hellostarts.html";
            return true;
        }
        openapp();
        getConf();
        getRecommend();
    });

</script>
<script>
    (function(){
        var plat=ua.mobile?'mobile':'pad';
        var GET = $.urlGet();
        var psrc=GET['psrc']||'';
        var json = {
            "event":'click',
            "uid":"0",
            "guid":"0",
            'button':4,
            'plat':plat,
            "url":location.href,
            "psrc":psrc,
            "time_u":parseInt((new Date().getTime())/1000),
            "rid":Math.random()*10000
        };
        $('.room_download').on('click', function () {
            var _img = new Image();
            json.time_u=parseInt((new Date().getTime())/1000);
            _img.src = "http://dd.panda.tv/h5_punch.gif?" + $.param(json);
            setTimeout(function(){
                location.href = "http://m.panda.tv/download.html";
            },100);
        });
        $("#open_into_app").on("click", function(){
            var ua = navigator.userAgent;
            if (/iphone|ipad|ipod/i.test(ua)) {
                location.href = "pandatv://openroom/" + baseroomid;
                setTimeout(function(){
                    var _img = new Image();
                    json.time_u=parseInt((new Date().getTime())/1000);
                    _img.src = "http://dd.panda.tv/h5_punch.gif?" + $.param(json);
                    setTimeout(function(){
                        location.href = "http://m.panda.tv/download.html";
                    },100);
                }, 100);
            }else{
                var _img = new Image();
                json.time_u=parseInt((new Date().getTime())/1000);
                _img.src = "http://dd.panda.tv/h5_punch.gif?" + $.param(json);
                setTimeout(function(){
                    location.href = "http://m.panda.tv/download.html";
                },100);
            }
        });
    })()
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?204071a8b1d0b2a04c782c44b88eb996";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();

</script>
<script src="https://s.ssl.pdim.gs/static/21cac5e9c562cff2.js"></script>



</body></html>